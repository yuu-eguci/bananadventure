スマホ幅のオーバーレイ崩れを防ぐ
===

## 背景
スマホ幅で表示すると、選択肢ボタンが縦に並んでオーバーレイ高さが増え、画像やメッセージ領域を大きく覆ってしまう。  
結果として、メッセージの可読性が下がる。

## 今回の要望
- スマホ幅で左右余白を小さくして、表示要素の実効幅を広げる。
- 画面幅が小さくなっても画像の縦サイズを維持し、左右は見切れてよい仕様にする。
- インベントリは画面幅に関係なく 2 列グリッド表示にする ( テキストは折り返し ) 。

## ゴール
- スマホ幅でもメッセージ + 選択肢が視認できる。
- 画像は高さを維持したまま横方向のみトリミングされる。
- インベントリが常に 2 列表示で崩れない。

## 非ゴール
- シーン遷移ロジック変更。
- 配色テーマの刷新。

## 変更対象の候補
- `webapp/frontend-react/src/pages/HomePage.tsx`
- `docs/codex/007-スマホ幅のオーバーレイ崩れを防ぐ.md`

## 進め方
このノートで詳細設計を固めて、レビュー反映後に実装する。

## 詳細設計
### 1. レイアウト余白の調整
- ルートラッパーの左右 `padding` を `xs` で最小化する ( 例: `px: 0.5` ) 。
- `maxWidth` は維持しつつ、スマホで実効表示幅が広がるようにする。

### 2. 画像サイズ仕様
- 画像表示領域 ( `Paper` ) に `height` を指定して、 `xs` 幅でも縦サイズを維持する。
- 画像は `width: 100%`, `height: 100%`, `objectFit: "cover"` を適用する。
- これで縦サイズ固定 + 横見切れ許容の仕様にする。

### 3. オーバーレイ仕様
- 現行の `left/right/bottom` 固定 + `boxSizing: border-box` は維持。
- メッセージと選択肢が視認できるよう、オーバーレイの `py` / `gap` を詰めすぎない。

### 4. インベントリ仕様
- インベントリカード一覧は常に 2 列グリッド (`repeat(2, minmax(0, 1fr))`) にする。
- `xs` でも `sm` でも列数は固定し、折り返しで段を増やす。
- 各カード内テキストに `wordBreak: "break-word"` を与えて折り返しを許可する。

### 5. 実装タスク ( 予定 )
1. `HomePage.tsx` のルート余白を見直す。  
2. シーン画像を `object-fit: cover` + 高さ固定へ変更する。  
3. インベントリ表示を縦積みから 2 列グリッドへ変更する。  
4. lint で崩れがないことを確認する。  

### 6. 確認観点
- スマホ幅で画像高さが保たれ、左右が見切れる表示になっている。
- メッセージが選択肢に押し出されず、読める。
- インベントリが常に 2 列表示で、テキストが折り返される。
- 選択肢クリックとアイテムクリックが従来通り動く。

### 7. 受け入れ条件
- スマホ幅で UI が被覆崩れせず、メッセージと選択肢が視認できる。  
- 画像は縦サイズを維持し、横方向のみトリミングされる。  
- インベントリは画面幅に関係なく 2 列表示で安定する。  

## レビュー
### 指摘 1 ( 重要 ): 画像高さの固定値レンジが未定義
「高さ固定」だけだと、実装時に値が大きすぎて逆にオーバーレイが重なる可能性がある。  
最低でも `xs` と `md` の目安値を設計で決めたい。

対応要求:
- 画像表示領域の高さをブレークポイント付きで明示すること ( 例: `xs: 520`, `md: 560` ) 。

対応内容 ( プランナー記入 ) :
- 未対応

### 指摘 2 ( 中 ): インベントリ 2 列時の画像サイズ規定が不足
カード内画像が大きいままだと、2 列表示時にテキスト領域が圧迫される。  
折り返し要件だけだと詰まりやすい。

対応要求:
- インベントリアイコンのサイズを `xs` で少し小さくする方針を設計に追加すること。

対応内容 ( プランナー記入 ) :
- 未対応
